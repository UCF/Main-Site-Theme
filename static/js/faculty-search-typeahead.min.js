!function(r){r.fn.MainSiteFacultySearch=function(e){var e=r.extend({highlight:!0,minLength:2},e),t=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.title.rendered)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:FACULTY_SEARCH_SETTINGS.faculty.dataEndpoint+"&search=%QUERY",wildcard:"%QUERY"},identify:function(e){return"expert_"+e.id}}),n=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:FACULTY_SEARCH_SETTINGS.colleges.dataEndpoint,identify:function(e){return"college_"+e.id}}),i=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:FACULTY_SEARCH_SETTINGS.departments.dataEndpoint+"&search=%QUERY",wildcard:"%QUERY"},identify:function(e){return"department_"+e.id}}),o=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:FACULTY_SEARCH_SETTINGS.expertise.dataEndpoint+"&search=%QUERY",wildcard:"%QUERY"},identify:function(e){return"expertise_"+e.id}});return this.typeahead(e,{name:"results-colleges",source:n.ttAdapter(),limit:3,displayKey:function(e){return e.name},templates:{header:'<strong class="d-block font-size-sm text-default text-uppercase letter-spacing-2 px-3 px-sm-4 pt-2 mb-1">Faculty by College:</strong>'}},{name:"results-departments",source:i.ttAdapter(),limit:3,displayKey:function(e){return e.name},templates:{header:'<strong class="d-block font-size-sm text-default text-uppercase letter-spacing-2 px-3 px-sm-4 pt-2 mb-1">Faculty by Department:</strong>'}},{name:"results-expertise",source:o.ttAdapter(),limit:3,displayKey:function(e){return e.name},templates:{header:'<strong class="d-block font-size-sm text-default text-uppercase letter-spacing-2 px-3 px-sm-4 pt-2 mb-1">Faculty by Expertise:</strong>'}},{name:"results-faculty",source:t.ttAdapter(),limit:5,displayKey:function(e){return e.title.rendered},templates:{suggestion:Handlebars.compile('\n            <div class="d-flex flex-row mb-0">\n              <div class="media-background-container rounded-circle mr-2 suggestion-image">\n                <img src="{{thumbnails.thumbnail.src}}" class="media-background object-fit-cover" style="object-position: 50% 0%;" data-object-position="50% 0%" alt="" width="{{thumbnails.thumbnail.width}}" height="{{thumbnails.thumbnail.height}}">\n              </div>\n              <div class="align-self-center suggestion-text">\n                <span class="d-block">{{{ title.rendered }}}</span>\n                {{#if person_titles}}\n                <ul class="list-inline d-block mb-0 line-height-2">\n                  {{#each person_titles}}\n                  <li class="list-inline-item text-default small suggestion-title">{{this}}</li>\n                  {{/each}}\n                </ul>\n                {{/if}}\n              </div>\n            </div>\n          ')}}).on("typeahead:selected",function(e,t){var n="taxonomy"in t?t.taxonomy:"faculty";return n in FACULTY_SEARCH_SETTINGS&&FACULTY_SEARCH_SETTINGS[n].selectedAction(e,t)}),this}}(jQuery);