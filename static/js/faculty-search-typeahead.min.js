!function(a){a.fn.MainSiteFacultySearch=function(e){var t=a.extend({highlight:!0,minLength:2},e),n=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.title.rendered)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:FACULTY_SEARCH_SETTINGS.faculty.dataEndpoint+"&search=%QUERY",wildcard:"%QUERY"},identify:function(e){return"degree_"+e.id}}),i=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:FACULTY_SEARCH_SETTINGS.colleges.dataEndpoint,identify:function(e){return"college_"+e.id}}),e=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:FACULTY_SEARCH_SETTINGS.departments.dataEndpoint+"?search=%QUERY",wildcard:"%QUERY"},identify:function(e){return"department_"+e.id}});return this.typeahead(t,{name:"results-colleges",source:i.ttAdapter(),limit:3,displayKey:function(e){return a("<span>").html(e.name).text()},templates:{header:'<strong class="d-block font-size-sm text-default text-uppercase letter-spacing-2 px-3 px-sm-4 pt-2 mb-1">Faculty by College:</strong>'}},{name:"results-departments",source:e.ttAdapter(),limit:5,displayKey:function(e){return a("<span>").html(e.name).text()},templates:{header:'<strong class="d-block font-size-sm text-default text-uppercase letter-spacing-2 px-3 px-sm-4 pt-2 mb-1">Faculty by Department:</strong>'}},{name:"results-faculty",source:n.ttAdapter(),limit:5,displayKey:function(e){return a("<span>").html(e.title.rendered).text()},templates:{suggestion:Handlebars.compile('\n            <div class="d-flex flex-row mb-0">\n              <div class="media-background-container rounded-circle mr-2 suggestion-image">\n                <img src="{{thumbnails.thumbnail.src}}" class="media-background object-fit-cover" alt="" width="{{thumbnails.thumbnail.width}}" height="{{thumbnails.thumbnail.height}}">\n              </div>\n              <div class="align-self-center suggestion-text">\n                <span class="d-block">{{title.rendered}}</span>\n                <span class="d-block text-default small">{{person_title}}</span>\n              </div>\n            </div>\n          ')}}).on("typeahead:selected",function(e,t){var n="taxonomy"in t?t.taxonomy:"faculty";return n in FACULTY_SEARCH_SETTINGS&&FACULTY_SEARCH_SETTINGS[n].selectedAction(e,t)}),this}}(jQuery);