!function(r){r.fn.MainSiteFacultySearch=function(e){var t=r.extend({highlight:!0,minLength:2},e),n=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.title.rendered)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:FACULTY_SEARCH_SETTINGS.faculty.dataEndpoint+"&search=%QUERY",wildcard:"%QUERY"},identify:function(e){return"degree_"+e.id}}),o=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:FACULTY_SEARCH_SETTINGS.colleges.dataEndpoint,identify:function(e){return"college_"+e.id}}),e=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:FACULTY_SEARCH_SETTINGS.departments.dataEndpoint,identify:function(e){return"department_"+e.id}});return this.typeahead(t,{name:"results-faculty",source:n.ttAdapter(),limit:5,displayKey:function(e){return r("<span>").html(e.title.rendered).text()},templates:{pending:"<span>Loading...</span>",footer:"<span>More results</span>"}},{name:"results-colleges",source:o.ttAdapter(),limit:3,displayKey:function(e){return r("<span>").html(e.name).text()},templates:{header:'<strong class="d-block h6 text-uppercase">Faculty by College:</strong>'}},{name:"results-departments",source:e.ttAdapter(),limit:5,displayKey:function(e){return r("<span>").html(e.name).text()},templates:{header:'<strong class="d-block h6 text-uppercase">Faculty by Department:</strong>'}}).on("typeahead:selected",function(e,t){var n="taxonomy"in t?t.taxonomy:"faculty";return n in FACULTY_SEARCH_SETTINGS&&FACULTY_SEARCH_SETTINGS[n].selectedAction(e,t)}),this}}(jQuery);