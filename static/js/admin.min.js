Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var c=[],o=arguments[1],i=0;n>i;i++)if(i in t){var s=t[i];e.call(o,s,i,t)&&c.push(s)}return c});var WebcomAdmin={};WebcomAdmin.__init__=function(e){e('input[type="file"]').parents("form").attr("enctype","multipart/form-data"),e('input[type="file"]').parents("form").attr("encoding","multipart/form-data")},WebcomAdmin.shortcodeTool=function(e){return cls=this,cls.metabox=e("#shortcodes-metabox"),cls.metabox.length<1?void console.log("no meta"):(cls.form=cls.metabox.find("form"),cls.search=cls.metabox.find("#shortcode-search"),cls.button=cls.metabox.find("button"),cls.results=cls.metabox.find("#shortcode-results"),cls.select=cls.metabox.find("#shortcode-select"),cls.form_url=cls.metabox.find("#shortcode-form").val(),cls.text_url=cls.metabox.find("#shortcode-text").val(),cls.shortcodes=function(){var t=[];return cls.select.children(".shortcode").each(function(){t.push(e(this).val())}),t}(),cls.shortcodeAction=function(e){var t="["+e+"]";send_to_editor(t)},cls.searchAction=function(){cls.results.children().remove();var t=cls.search.val();if(!(t.length<1)){var n=cls.shortcodes.filter(function(e,n,c){return e.match(t)});n.length>1&&cls.results.removeClass("empty"),e(n).each(function(){var t=e("<li />"),n=e("<a />");n.attr("href","#"),n.addClass("shortcode"),n.text(this.valueOf()),t.append(n),cls.results.append(t)}),n.length>1?cls.results.removeClass("empty"):cls.results.addClass("empty")}},cls.buttonAction=function(){cls.searchAction()},cls.itemAction=function(){var t=e(this).text();return cls.shortcodeAction(t),!1},cls.selectAction=function(){var t=e(this).find(".shortcode:selected");if(!(t.length<1)){var n=t.val();cls.shortcodeAction(n)}},cls.results.width(cls.search.outerWidth()),cls.search.keyup(function(e){return cls.searchAction(),13==e.keyCode?!1:void 0}),cls.button.click(cls.buttonAction),cls.select.change(cls.selectAction),void cls.results.find("li a.shortcode").live("click",cls.itemAction))},WebcomAdmin.themeOptions=function(e){cls=this,cls.active=null,cls.parent=e(".i-am-a-fancy-admin"),cls.sections=e(".i-am-a-fancy-admin .fields .section"),cls.buttons=e(".i-am-a-fancy-admin .sections .section a"),this.showSection=function(t){var n=e(this),c=n.attr("href"),o=e(c);cls.buttons.removeClass("active"),n.addClass("active"),cls.active.hide(),cls.active=o,cls.active.show(),history.pushState({},"",n.attr("href"));var i=cls.parent.find('input[name="_wp_http_referer"]');return i.val(window.location),!1},this.__init__=function(){cls.active=cls.sections.first(),cls.sections.not(cls.active).hide(),cls.buttons.first().addClass("active"),cls.buttons.click(this.showSection),window.location.hash&&cls.buttons.filter('[href="'+window.location.hash+'"]').click();var t=setInterval(function(){e(".updated").fadeOut(1e3),clearInterval(t)},2e3)},cls.parent.length>0&&cls.__init__()},WebcomAdmin.centerpieceAdmin=function(e){function t(){return e(checkedContentTypeSelector+":checked")}function n(e){var t=0,n=e.match(/^ss_[\w-]+\[(\d)\][\w-]*$/i);return n&&"undefined"!==n[1]&&(t=n[1]),parseInt(t,10)}function c(){var e=t();m.val(e.length)}function o(){for(var c=[],o=t(),i=0;i<o.length;i++){var s=e(o[i]),a=n(s.attr("name"));c.push(a)}var l=c.join(",");$slideOrderInput.val(l)}function i(){var e=_.find(".custom_repeatable"),t=e.find(".repeatable-remove");e.length<2?t.hide():t.show()}function s(){_.sortable({handle:".meta-handle",placeholder:"sortable-placeholder",sort:function(t,n){e(".sortable-placeholder").height(e(this).find(".ui-sortable-helper").height())},update:function(e,t){o()},tolerance:"pointer"})}function a(t){t.preventDefault();var n=e(t.target),c=n.parent(".custom_repeatable");c.toggleClass("closed")}function l(t){t.preventDefault();for(var c,o,i=e(t.target),s=e(checkedContentTypeSelector),a=b.clone(),l=[],r=0;r<s.length;r++){var f=e(s[r]),u=n(f.attr("name"));l.push(u)}o=Math.max.apply(Math,l),c=o+1,a.find("textarea, input").attr("name",function(e,t){return t?t.replace(v,c):void 0}).end().find("label").attr("for",function(e,t){return t?t.replace(v,c):void 0}).end().find("textarea, input").addBack().attr("id",function(e,t){return t?t.replace(v,c):void 0}),a.insertAfter(i.prev(".custom_repeatable")),d()}function r(t){t.preventDefault();var n=e(t.target);n.parent().remove(),d()}function d(){c(),o(),i()}function f(){s(),h.hide(),d()}function u(){h=e("#slider-slides-settings-count"),m=e("#ss_slider_slidecount"),$slideOrderInput=e("#ss_slider_slideorder"),p="99999",v=new RegExp(p),b=e("#custom_repeatable_ss_"+p).detach(),_=e("#ss_slides_all"),checkedContentTypeSelector='input[name^="ss_type_of_content["]',f(),_.on("click",".custom_repeatable .meta-handle",a).on("change",checkedContentTypeSelector,d).on("click",".repeatable-add",l).on("click",".repeatable-remove",r)}var h,m,p,v,b,_;u()},WebcomAdmin.subheaderAdmin=function(e){e("#spotlight_metabox").length>0&&e('<tr><td colspan="2" style="padding: 2px 10px;"><strong>Note: Max character count for Spotlights is 200. Going over this character limit will cause the subheader content to be cut short.</strong></td></tr>').appendTo("#post-status-info tbody")},WebcomAdmin.fileUploader=function(e){function t(t){t.preventDefault();var n,c=e(t.target),o=c.parents(".meta-file-wrap"),i=o.find(".meta-file-field"),s=o.find(".meta-file-delete"),a=o.find(".meta-file-preview");n=wp.media({title:"Select or Upload a File",button:{text:"Use this file"},multiple:!1}),n.on("select",function(){var e=n.state().get("selection").first().toJSON();a.html('<img src="'+e.iconOrThumb+'"><br>'+e.filename),i.val(e.id),c.addClass("hidden"),s.removeClass("hidden")}),n.open()}function n(t){t.preventDefault();var n=e(t.target),c=n.parents(".meta-file-wrap"),o=c.find(".meta-file-field"),i=c.find(".meta-file-upload"),s=c.find(".meta-file-preview");s.html("No file selected."),i.removeClass("hidden"),n.addClass("hidden"),o.val("")}var c=e("#post-body");c.on("click",".meta-file-upload",t).on("click",".meta-file-delete",n)},function(e){WebcomAdmin.__init__(e),WebcomAdmin.themeOptions(e),WebcomAdmin.shortcodeTool(e),WebcomAdmin.centerpieceAdmin(e),WebcomAdmin.subheaderAdmin(e),WebcomAdmin.fileUploader(e)}(jQuery);