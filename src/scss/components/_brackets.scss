@use 'sass:map';
@use 'sass:list';
@use 'sass:math';

$layouts: (
  '': (true, false, true, false),
  '-alt': (false, true, false, true),
  '-full': (true, true, true, true),
  '-top-left': (true, false, false, false),
  '-top-right': (false, true, false, false),
  '-bottom-right': (false, false, true, false),
  '-bottom-left': (false, false, false, true),
);

$thickness: 5px;

$sizes: (
  'sm': 24px,
  'default': 48px,
  'lg': 72px
);

@each $label, $layout in $layouts {
  .brackets#{$label} {
    $size: map.get($sizes, 'default');

    border-width: $thickness;
    border-style: solid;
    border-color: $brand-primary;

    // padding should be equal to the size of the bracket
    padding: $size - $thickness;

    clip-path: create-bracket-clip(
      5px,
      $size,
      list.nth($layout, 1),
      list.nth($layout, 2),
      list.nth($layout, 3),
      list.nth($layout, 4)
    );

    @each $slabel, $size in $sizes {
      &.brackets-size-#{$slabel} {
        padding: $size - $thickness !important;

        clip-path: create-bracket-clip(
          $thickness,
          $size,
          list.nth($layout, 1),
          list.nth($layout, 2),
          list.nth($layout, 3),
          list.nth($layout, 4)
        ) !important;
      }
    }
  }
}

@each $label, $color in $brand-colors {
  .brackets-color-#{$label} {
    border-color: map.get($color, 'color');
  }
}
